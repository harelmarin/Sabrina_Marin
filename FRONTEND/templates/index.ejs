<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Adresse Autocomplete</title>
</head>
<body>
    <h1>Autocomplétion d'Adresse</h1>
    <label for="address-input">Entrez votre adresse:</label>
    <input type="text" id="address-input" placeholder="Saisissez votre adresse">

    <!-- Liste pour afficher les suggestions -->
    <ul id="suggestions-list"></ul>

    <script>
        const inputElement = document.getElementById('address-input');

        inputElement.addEventListener('input', async (event) => {
            const query = event.target.value.trim();

            try {
    const response = await fetch('/autocomplete', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json'
        },
        body: JSON.stringify({ address: query })
    });

    const data = await response.json();
    
    // Accès direct aux propriétés de l'objet data
    const fullAddress = data.address;
    const city = data.city;
    const postalCode = data['postal-code'];
    // Et ainsi de suite pour d'autres propriétés nécessaires

    // Affichez les détails de l'adresse
    console.log('Adresse géocodée trouvée:');
    console.log('Adresse complète:', fullAddress);
    console.log('Ville:', city);
    console.log('Code postal:', postalCode);
    // Et d'autres détails d'adresse si nécessaire

} catch (error) {
    console.error('Erreur lors de la requête API Neutrino:', error);
}

        });

        function displaySuggestions(suggestions) {
            // Affichez les suggestions dans votre interface utilisateur
        }
    </script>
</body>
</html>
